<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GigPi - Marketplace</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="/styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <header>
      <h1>GigPi</h1>
    </header>

    <div class="map-section">
      <div id="map" class="map"></div>
      <button class="locate-btn" onclick="locateUser()"><i class="fas fa-location-arrow"></i> Locate</button>
    </div>

    <div class="notification" id="notification"></div>

    <input type="text" id="searchBar" class="search-bar" placeholder="Search gigs or shops..." onkeyup="filterContent()">

    <div class="form-step" id="gigStep1">
      <h3>Post a Gig</h3>
      <input id="gigTitle" placeholder="Gig Title (e.g., Deliver Groceries)">
      <button onclick="nextStep('gig')">Next</button>
    </div>
    <div class="form-step" id="gigStep2" style="display: none;">
      <h3>Gig Details</h3>
      <input id="gigPrice" type="number" placeholder="Price in Pi (e.g., 5)">
      <input id="gigLocation" placeholder="Location (e.g., 123 Main St)">
      <button onclick="postGig()">Submit</button>
      <button class="nav-btn" onclick="prevStep('gig')">Back</button>
    </div>

    <div class="form-step" id="shopStep1">
      <h3>Register Shop</h3>
      <input id="shopName" placeholder="Shop Name (e.g., Bobâ€™s Supermarket)">
      <button onclick="nextStep('shop')">Next</button>
    </div>
    <div class="form-step" id="shopStep2" style="display: none;">
      <h3>Shop Details</h3>
      <select id="shopCategory">
        <option value="supermarket">Supermarket</option>
        <option value="repair">Repair Shop</option>
        <option value="auto">Auto Shop</option>
      </select>
      <input id="shopServices" placeholder="Services (e.g., Grocery Delivery, 3 Pi)">
      <input id="shopLocation" placeholder="Location (e.g., 123 Main St)">
      <button onclick="registerShop()">Submit</button>
      <button class="nav-btn" onclick="prevStep('shop')">Back</button>
    </div>

    <div class="form-step">
      <h3>Pick a Delivery Block</h3>
      <select id="deliveryBlock">
        <option value="3h">3 Hours - 10 Pi</option>
        <option value="6h">6 Hours - 20 Pi</option>
      </select>
      <button onclick="selectBlock()">Start</button>
    </div>

    <div class="gig-list" id="gigList">
      <h3>Available Gigs</h3>
    </div>

    <div class="shop-profile" id="shopProfile">
      <h3>Featured Shop</h3>
      <p id="shopDetails">No shop registered yet.</p>
      <span class="verified"><i class="fas fa-check-circle"></i> Verified</span>
      <button onclick="hireShop()">Hire</button>
    </div>

    <div class="rating-section" id="ratingSection" style="display: none;">
      <h3>Rate Experience</h3>
      <span class="rating" id="starRating"></span>
      <select id="rating" onchange="updateStars()">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
      <button onclick="submitRating()">Submit</button>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="/script.js"></script>
</body>
</html>
